{"version":3,"sources":["jocly.util.js"],"names":["JocLog","jQuery","strs","i","arguments","length","str","JSON","stringify","push","text","join","appendTo","console","warn","apply","JocUtil","reload","window","location","setTimeout","fnt","timeout","setInterval","clearTimeout","timer","schedule","target","method","args","setPref","aPrefName","aValue","options","prefName","appId","game","localStorage","setItem","getPref","value","getItem","substr","parse","defaultValue","filterLevels","levels","maxLevel","defaultLevel","Calibrate","timer0","Date","getTime","n","m","a","b","shift","c","timer1","calibration","parseInt","calibrationDate","maxTime","bestDefaultMaxTime","levels0","bestLevel","bestLevelTime","bestLevelForced","k","level","isDefault","bestLevelFound","fullLabel","strings","label","optionValue","calRatio","levelTime","maxLevel0","cookieSupportTested","cookieSupport","hasCookieSupport","document","cookie","date","setTime","escape","toGMTString","getCookieData","cookies","split","exec","indexOf","unescape","substring","e","setCookieData","name","jocly","extend","obj","md5","string","RotateLeft","lValue","iShiftBits","AddUnsigned","lX","lY","lX4","lY4","lX8","lY8","lResult","F","x","y","z","G","H","I","FF","d","s","ac","GG","HH","II","ConvertToWordArray","lWordCount","lMessageLength","lNumberOfWords_temp1","lNumberOfWords_temp2","lNumberOfWords","lWordArray","Array","lBytePosition","lByteCount","charCodeAt","WordToHex","WordToHexValue","WordToHexValue_temp","lByte","lCount","toString","Utf8Encode","replace","utftext","String","fromCharCode","AA","BB","CC","DD","S11","S12","S13","S14","S21","S22","S23","S24","S31","S32","S33","S34","S41","S42","S43","S44","temp","toLowerCase","sha1","msg","rotate_left","t4","lsb_hex","val","vh","vl","cvt_hex","v","blockstart","j","W","H0","H1","H2","H3","H4","A","B","C","D","E","msg_len","word_array","MersenneTwister","seed","undefined","N","M","MATRIX_A","UPPER_MASK","LOWER_MASK","mt","mti","init_genrand","prototype","init_by_array","init_key","key_length","genrand_int32","mag01","kk","genrand_int31","genrand_real1","random","genrand_real3","genrand_res53","module","exports"],"mappings":"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","file":"jocly.util.js","sourcesContent":["/*    Copyright 2017 Jocly\n *\n *    This program is free software: you can redistribute it and/or  modify\n *    it under the terms of the GNU Affero General Public License, version 3,\n *    as published by the Free Software Foundation.\n *\n *    This program is distributed in the hope that it will be useful,\n *    but WITHOUT ANY WARRANTY; without even the implied warranty of\n *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *    GNU Affero General Public License for more details.\n *\n *    You should have received a copy of the GNU Affero General Public License\n *    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n *    As a special exception, the copyright holders give permission to link the\n *    code of portions of this program with the OpenSSL library under certain\n *    conditions as described in each individual source file and distribute\n *    linked combinations including the program with the OpenSSL library. You\n *    must comply with the GNU Affero General Public License in all respects\n *    for all of the code used other than as permitted herein. If you modify\n *    file(s) with this exception, you may extend this exception to your\n *    version of the file(s), but you are not obligated to do so. If you do not\n *    wish to do so, delete this exception statement from your version. If you\n *    delete this exception statement from all source files in the program,\n *    then also delete it in the license file.\n */\n\nfunction JocLog() {\n\tif(typeof jQuery!=\"undefined\") {\n\t\tvar strs=[];\n\t\tfor(var i=0;i<arguments.length;i++) {\n\t\t\tvar str=arguments[i];\n\t\t\tif(typeof(str)!=\"string\")\n\t\t\t\tstr=JSON.stringify(str);\t\t\n\t\t\tstrs.push(\"\"+str);\n\t\t}\n\t\tjQuery(\"<p/>\").text(strs.join(\" \")).appendTo(jQuery(\"#jocly-log\"));\n\t} else\n\t\tconsole.warn.apply(console,arguments);\n}\n\nvar JocUtil = {\n\tJSON: JSON\n}\n\nJocUtil.reload = function() {\n\twindow.location.reload();\n}\n\nJocUtil.setTimeout=function(fnt,timeout) {\n\treturn setTimeout(fnt,timeout);\n}\n\nJocUtil.setInterval=function(fnt,timeout) {\n\treturn setInterval(fnt,timeout);\n}\n\nJocUtil.clearTimeout=function(timer) {\n\tclearTimeout(timer);\n}\n\nJocUtil.schedule=function(target,method,args) {\n\tJocUtil.setTimeout(function() { target[method](args); }, 0);\n}\n\nJocUtil.setPref=function(aPrefName,aValue,options) {\n\tvar prefName='jocly_pref';\n\tif(arguments.length<3)\n\t\toptions={}\n\tif(options.appId)\n\t\tprefName+=\"_\"+options.appId;\n\tif(options.game)\n\t\tprefName+=\"_\"+options.game;\n\tprefName+=\"_\"+aPrefName;\n\tif(typeof(aValue)==\"boolean\")\n\t\taValue=\"$#@\"+aValue;\n\tif(typeof(aValue)==\"object\" || typeof(aValue)==\"array\")\n\t\taValue=\"$#@JSON@\"+JSON.stringify(aValue);\n\t//alert(\"setPref(\"+prefName+\",\"+aValue+\") \"+typeof(aValue));\n\twindow.localStorage.setItem(prefName,aValue);\n}\n\nJocUtil.getPref=function(aPrefName,options) {\n\tvar prefName='jocly_pref';\n\tif(arguments.length<2)\n\t\toptions={}\n\tif(options.appId)\n\t\tprefName+=\"_\"+options.appId;\n\tif(options.game)\n\t\tprefName+=\"_\"+options.game;\n\tprefName+=\"_\"+aPrefName;\n\tvar value=window.localStorage.getItem(prefName);\n\tif(value==\"$#@true\")\n\t\tvalue=true;\n\telse if(value==\"$#@false\")\n\t\tvalue=false;\n\telse if(typeof(value)==\"string\" && value.substr(0,8)==\"$#@JSON@\")\n\t\tvalue=JSON.parse(value.substr(8));\n\tif(value==null && typeof options.defaultValue!=\"undefined\")\n\t\tvalue=options.defaultValue;\n\t//alert(\"getPref(\"+prefName+\") => \"+value+\" \"+typeof(value));\n\treturn value;\n}\n\nJocUtil.filterLevels=function(levels,maxLevel,defaultLevel) {\n\tfunction Calibrate() {\n\t\tvar timer0=new Date().getTime();\n\t\tvar n=1000;\n\t\tvar m=100;\n\t\tvar a=[];\n\t\tvar b=[];\n\t\tfor(var i=0;i<m;i++) {\n\t\t\ta.push(i);\n\t\t}\n\t\tfor(var i=0;i<n;i++) {\n\t\t\twhile(a.length>0)\n\t\t\t\tb.push(a.shift());\n\t\t\tvar c=a;\n\t\t\ta=b;\n\t\t\tb=c;\n\t\t}\n\t\tvar timer1=new Date().getTime();\n\t\treturn timer1-timer0;\n\t}\n\tvar calibration=parseInt(JocUtil.getPref(\"calibration\",{defaultValue:0}));\n\tvar calibrationDate=parseInt(JocUtil.getPref(\"calibrationDate\",{defaultValue:0}));\n\tif(calibrationDate<new Date().getTime()-24*60*60*1000)\n\t\tcalibration=0;\n\tvar maxTime=60000;\n\tvar bestDefaultMaxTime=3000;\n\tvar levels0=[];\n\tif(levels) {\n\t\tvar bestLevel=null;\n\t\tvar bestLevelTime=0;\n\t\tvar bestLevelForced=false;\n\t\tfor(var k in levels) {\n\t\t\tvar level=levels[k];\n\t\t\tif(level.isDefault) {\n\t\t\t\tbestLevel=level;\n\t\t\t\tbestLevelFound=true;\n\t\t\t}\n\t\t\tlevel.isDefault=false;\n\t\t\tlevel.fullLabel=strings[\"comp-level\"]+\" \"+level.label;\n\t\t\tlevel.optionValue=k;\n\t\t\tif(level.calRatio) {\n\t\t\t\tif(!calibration) {\n\t\t\t\t\tcalibration=Calibrate();\n\t\t\t\t\tJocLog(\"Calibration\",calibration);\n\t\t\t\t\tJocUtil.setPref(\"calibration\",calibration,{});\n\t\t\t\t\tJocUtil.setPref(\"calibrationDate\",new Date().getTime(),{});\n\t\t\t\t}\n\t\t\t\tvar levelTime=calibration*level.calRatio;\n\t\t\t\tif(levelTime>maxTime && levels0.length>=2)\n\t\t\t\t\tcontinue;\n\t\t\t\tif(bestLevelForced==false) {\n\t\t\t\t\tif(bestLevel==null || (levelTime<bestDefaultMaxTime && levelTime>bestLevelTime)) {\n\t\t\t\t\t\tbestLevel=level;\n\t\t\t\t\t\tbestLevelTime=levelTime;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if(bestLevel==null)\n\t\t\t\tbestLevel=level;\n\t\t\tlevels0.push(level);\n\t\t}\n\t\tif(bestLevel)\n\t\t\tbestLevel.isDefault=true;\n\t} else {\n\t\tvar maxLevel0=9;\n\t\tif(maxLevel)\n\t\t\tmaxLevel0=maxLevel;\n\t\tfor(var i=0;i<=maxLevel0;i++) {\n\t\t\tvar level={\n\t\t\t\tfullLabel: strings[\"comp-level\"]+\" \"+(i+1),\n\t\t\t\toptionValue: \"machine-\"+i,\n\t\t\t\tisDefault: false\n\t\t\t};\n\t\t\tif(typeof(defaultLevel)!=\"undefined\" && i==defaultLevel)\n\t\t\t\tlevel.isDefault=true;\n\t\t\tlevels0.push(level);\n\t\t}\n\t}\n\treturn levels0;\n}\n\nJocUtil.cookieSupportTested=false;\nJocUtil.cookieSupport=true;\nJocUtil.hasCookieSupport=function() {\n\tif(JocUtil.cookieSupportTested)\n\t\treturn JocUtil.cookieSupport;\n\tif(document.cookie.length==0) {\n\t\tvar date=new Date();\n\t\tdate.setTime(date.getTime()+365*24*60*60*1000);\n\t\tdocument.cookie=\"jocly=\"+escape(\"{}\")+\"; path=/; expires=\"+date.toGMTString()+\";\";\n\t\tif(document.cookie.length==0)\n\t\t\tJocUtil.cookieSupport=false;\n\t}\n\tJocUtil.cookieSupportTested=true;\n\treturn JocUtil.cookieSupport;\t\n}\n\nJocUtil.getCookieData=function() {\n\tif(JocUtil.hasCookieSupport()) {\n\t\tvar cookies=document.cookie.split(\";\");\n\t\tfor(var i in cookies) {\n\t\t\tvar c=/^ *(.*)$/.exec(cookies[i])[1];\n\t\t\tif(c.indexOf(\"jocly=\")==0) {\n\t\t\t\ttry {\n\t\t\t\t\treturn JSON.parse(unescape(c.substring(6)));\n\t\t\t\t} catch(e) {\n\t\t\t\t\tJocLog(\"Unable to parse cookie\",c);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn {};\n\t} else {\n\t\tvar value=window.localStorage.getItem(\"jocly\");\n\t\tif(value==null)\n\t\t\treturn {};\n\t\telse\n\t\t\treturn JSON.parse(value);\n\t}\n}\n\nJocUtil.setCookieData=function(name,value) {\n\tif(JocUtil.hasCookieSupport()) {\n\t\tvar jocly=JocUtil.getCookieData();\n\t\tif(value==null)\n\t\t\tdelete jocly[name];\n\t\telse\n\t\t\tjocly[name]=value;\n\t\tvar date=new Date();\n\t\tdate.setTime(date.getTime()+365*24*60*60*1000);\n\t\tvar cookie=\"jocly=\"+escape(JSON.stringify(jocly))+\"; path=/; expires=\"+date.toGMTString()+\";\";\n\t\tdocument.cookie=cookie;\n\t} else {\n\t\tvar jocly=window.localStorage.getItem(\"jocly\");\n\t\tif(jocly==null)\n\t\t\tjocly={};\n\t\telse\n\t\t\tjocly=JSON.parse(jocly);\n\t\tjocly[name]=value;\n\t\twindow.localStorage.setItem(\"jocly\",JSON.stringify(jocly));\t\n\t}\n}\n\nJocUtil.extend=function(target,obj) {\n\tfor(var i in obj)\n\t\ttarget[i]=obj[i];\n}\n\nJocUtil.md5=function(string) {\n\tfunction RotateLeft(lValue, iShiftBits) {\n\t\treturn (lValue<<iShiftBits) | (lValue>>>(32-iShiftBits));\n\t}\n\tfunction AddUnsigned(lX,lY) {\n\t\tvar lX4,lY4,lX8,lY8,lResult;\n\t\tlX8 = (lX & 0x80000000);\n\t\tlY8 = (lY & 0x80000000);\n\t\tlX4 = (lX & 0x40000000);\n\t\tlY4 = (lY & 0x40000000);\n\t\tlResult = (lX & 0x3FFFFFFF)+(lY & 0x3FFFFFFF);\n\t\tif (lX4 & lY4) {\n\t\t\treturn (lResult ^ 0x80000000 ^ lX8 ^ lY8);\n\t\t}\n\t\tif (lX4 | lY4) {\n\t\t\tif (lResult & 0x40000000) {\n\t\t\t\treturn (lResult ^ 0xC0000000 ^ lX8 ^ lY8);\n\t\t\t} else {\n\t\t\t\treturn (lResult ^ 0x40000000 ^ lX8 ^ lY8);\n\t\t\t}\n\t\t} else {\n\t\t\treturn (lResult ^ lX8 ^ lY8);\n\t\t}\n \t}\n \tfunction F(x,y,z) { return (x & y) | ((~x) & z); }\n \tfunction G(x,y,z) { return (x & z) | (y & (~z)); }\n \tfunction H(x,y,z) { return (x ^ y ^ z); }\n\tfunction I(x,y,z) { return (y ^ (x | (~z))); }\n\tfunction FF(a,b,c,d,x,s,ac) {\n\t\ta = AddUnsigned(a, AddUnsigned(AddUnsigned(F(b, c, d), x), ac));\n\t\treturn AddUnsigned(RotateLeft(a, s), b);\n\t};\n\tfunction GG(a,b,c,d,x,s,ac) {\n\t\ta = AddUnsigned(a, AddUnsigned(AddUnsigned(G(b, c, d), x), ac));\n\t\treturn AddUnsigned(RotateLeft(a, s), b);\n\t};\n\tfunction HH(a,b,c,d,x,s,ac) {\n\t\ta = AddUnsigned(a, AddUnsigned(AddUnsigned(H(b, c, d), x), ac));\n\t\treturn AddUnsigned(RotateLeft(a, s), b);\n\t};\n\tfunction II(a,b,c,d,x,s,ac) {\n\t\ta = AddUnsigned(a, AddUnsigned(AddUnsigned(I(b, c, d), x), ac));\n\t\treturn AddUnsigned(RotateLeft(a, s), b);\n\t};\n\tfunction ConvertToWordArray(string) {\n\t\tvar lWordCount;\n\t\tvar lMessageLength = string.length;\n\t\tvar lNumberOfWords_temp1=lMessageLength + 8;\n\t\tvar lNumberOfWords_temp2=(lNumberOfWords_temp1-(lNumberOfWords_temp1 % 64))/64;\n\t\tvar lNumberOfWords = (lNumberOfWords_temp2+1)*16;\n\t\tvar lWordArray=Array(lNumberOfWords-1);\n\t\tvar lBytePosition = 0;\n\t\tvar lByteCount = 0;\n\t\twhile ( lByteCount < lMessageLength ) {\n\t\t\tlWordCount = (lByteCount-(lByteCount % 4))/4;\n\t\t\tlBytePosition = (lByteCount % 4)*8;\n\t\t\tlWordArray[lWordCount] = (lWordArray[lWordCount] | (string.charCodeAt(lByteCount)<<lBytePosition));\n\t\t\tlByteCount++;\n\t\t}\n\t\tlWordCount = (lByteCount-(lByteCount % 4))/4;\n\t\tlBytePosition = (lByteCount % 4)*8;\n\t\tlWordArray[lWordCount] = lWordArray[lWordCount] | (0x80<<lBytePosition);\n\t\tlWordArray[lNumberOfWords-2] = lMessageLength<<3;\n\t\tlWordArray[lNumberOfWords-1] = lMessageLength>>>29;\n\t\treturn lWordArray;\n\t};\n\tfunction WordToHex(lValue) {\n\t\tvar WordToHexValue=\"\",WordToHexValue_temp=\"\",lByte,lCount;\n\t\tfor (lCount = 0;lCount<=3;lCount++) {\n\t\t\tlByte = (lValue>>>(lCount*8)) & 255;\n\t\t\tWordToHexValue_temp = \"0\" + lByte.toString(16);\n\t\t\tWordToHexValue = WordToHexValue + WordToHexValue_temp.substr(WordToHexValue_temp.length-2,2);\n\t\t}\n\t\treturn WordToHexValue;\n\t};\n\tfunction Utf8Encode(string) {\n\t\tstring = string.replace(/\\r\\n/g,\"\\n\");\n\t\tvar utftext = \"\";\n\t\tfor (var n = 0; n < string.length; n++) {\n\t\t\tvar c = string.charCodeAt(n);\n\t\t\tif (c < 128) {\n\t\t\t\tutftext += String.fromCharCode(c);\n\t\t\t}\n\t\t\telse if((c > 127) && (c < 2048)) {\n\t\t\t\tutftext += String.fromCharCode((c >> 6) | 192);\n\t\t\t\tutftext += String.fromCharCode((c & 63) | 128);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tutftext += String.fromCharCode((c >> 12) | 224);\n\t\t\t\tutftext += String.fromCharCode(((c >> 6) & 63) | 128);\n\t\t\t\tutftext += String.fromCharCode((c & 63) | 128);\n\t\t\t}\n\t\t}\n\t\treturn utftext;\n\t};\n\tvar x=Array();\n\tvar k,AA,BB,CC,DD,a,b,c,d;\n\tvar S11=7, S12=12, S13=17, S14=22;\n\tvar S21=5, S22=9 , S23=14, S24=20;\n\tvar S31=4, S32=11, S33=16, S34=23;\n\tvar S41=6, S42=10, S43=15, S44=21;\n\tstring = Utf8Encode(string);\n\tx = ConvertToWordArray(string);\n\ta = 0x67452301; b = 0xEFCDAB89; c = 0x98BADCFE; d = 0x10325476;\n\tfor (k=0;k<x.length;k+=16) {\n\t\tAA=a; BB=b; CC=c; DD=d;\n\t\ta=FF(a,b,c,d,x[k+0], S11,0xD76AA478);\n\t\td=FF(d,a,b,c,x[k+1], S12,0xE8C7B756);\n\t\tc=FF(c,d,a,b,x[k+2], S13,0x242070DB);\n\t\tb=FF(b,c,d,a,x[k+3], S14,0xC1BDCEEE);\n\t\ta=FF(a,b,c,d,x[k+4], S11,0xF57C0FAF);\n\t\td=FF(d,a,b,c,x[k+5], S12,0x4787C62A);\n\t\tc=FF(c,d,a,b,x[k+6], S13,0xA8304613);\n\t\tb=FF(b,c,d,a,x[k+7], S14,0xFD469501);\n\t\ta=FF(a,b,c,d,x[k+8], S11,0x698098D8);\n\t\td=FF(d,a,b,c,x[k+9], S12,0x8B44F7AF);\n\t\tc=FF(c,d,a,b,x[k+10],S13,0xFFFF5BB1);\n\t\tb=FF(b,c,d,a,x[k+11],S14,0x895CD7BE);\n\t\ta=FF(a,b,c,d,x[k+12],S11,0x6B901122);\n\t\td=FF(d,a,b,c,x[k+13],S12,0xFD987193);\n\t\tc=FF(c,d,a,b,x[k+14],S13,0xA679438E);\n\t\tb=FF(b,c,d,a,x[k+15],S14,0x49B40821);\n\t\ta=GG(a,b,c,d,x[k+1], S21,0xF61E2562);\n\t\td=GG(d,a,b,c,x[k+6], S22,0xC040B340);\n\t\tc=GG(c,d,a,b,x[k+11],S23,0x265E5A51);\n\t\tb=GG(b,c,d,a,x[k+0], S24,0xE9B6C7AA);\n\t\ta=GG(a,b,c,d,x[k+5], S21,0xD62F105D);\n\t\td=GG(d,a,b,c,x[k+10],S22,0x2441453);\n\t\tc=GG(c,d,a,b,x[k+15],S23,0xD8A1E681);\n\t\tb=GG(b,c,d,a,x[k+4], S24,0xE7D3FBC8);\n\t\ta=GG(a,b,c,d,x[k+9], S21,0x21E1CDE6);\n\t\td=GG(d,a,b,c,x[k+14],S22,0xC33707D6);\n\t\tc=GG(c,d,a,b,x[k+3], S23,0xF4D50D87);\n\t\tb=GG(b,c,d,a,x[k+8], S24,0x455A14ED);\n\t\ta=GG(a,b,c,d,x[k+13],S21,0xA9E3E905);\n\t\td=GG(d,a,b,c,x[k+2], S22,0xFCEFA3F8);\n\t\tc=GG(c,d,a,b,x[k+7], S23,0x676F02D9);\n\t\tb=GG(b,c,d,a,x[k+12],S24,0x8D2A4C8A);\n\t\ta=HH(a,b,c,d,x[k+5], S31,0xFFFA3942);\n\t\td=HH(d,a,b,c,x[k+8], S32,0x8771F681);\n\t\tc=HH(c,d,a,b,x[k+11],S33,0x6D9D6122);\n\t\tb=HH(b,c,d,a,x[k+14],S34,0xFDE5380C);\n\t\ta=HH(a,b,c,d,x[k+1], S31,0xA4BEEA44);\n\t\td=HH(d,a,b,c,x[k+4], S32,0x4BDECFA9);\n\t\tc=HH(c,d,a,b,x[k+7], S33,0xF6BB4B60);\n\t\tb=HH(b,c,d,a,x[k+10],S34,0xBEBFBC70);\n\t\ta=HH(a,b,c,d,x[k+13],S31,0x289B7EC6);\n\t\td=HH(d,a,b,c,x[k+0], S32,0xEAA127FA);\n\t\tc=HH(c,d,a,b,x[k+3], S33,0xD4EF3085);\n\t\tb=HH(b,c,d,a,x[k+6], S34,0x4881D05);\n\t\ta=HH(a,b,c,d,x[k+9], S31,0xD9D4D039);\n\t\td=HH(d,a,b,c,x[k+12],S32,0xE6DB99E5);\n\t\tc=HH(c,d,a,b,x[k+15],S33,0x1FA27CF8);\n\t\tb=HH(b,c,d,a,x[k+2], S34,0xC4AC5665);\n\t\ta=II(a,b,c,d,x[k+0], S41,0xF4292244);\n\t\td=II(d,a,b,c,x[k+7], S42,0x432AFF97);\n\t\tc=II(c,d,a,b,x[k+14],S43,0xAB9423A7);\n\t\tb=II(b,c,d,a,x[k+5], S44,0xFC93A039);\n\t\ta=II(a,b,c,d,x[k+12],S41,0x655B59C3);\n\t\td=II(d,a,b,c,x[k+3], S42,0x8F0CCC92);\n\t\tc=II(c,d,a,b,x[k+10],S43,0xFFEFF47D);\n\t\tb=II(b,c,d,a,x[k+1], S44,0x85845DD1);\n\t\ta=II(a,b,c,d,x[k+8], S41,0x6FA87E4F);\n\t\td=II(d,a,b,c,x[k+15],S42,0xFE2CE6E0);\n\t\tc=II(c,d,a,b,x[k+6], S43,0xA3014314);\n\t\tb=II(b,c,d,a,x[k+13],S44,0x4E0811A1);\n\t\ta=II(a,b,c,d,x[k+4], S41,0xF7537E82);\n\t\td=II(d,a,b,c,x[k+11],S42,0xBD3AF235);\n\t\tc=II(c,d,a,b,x[k+2], S43,0x2AD7D2BB);\n\t\tb=II(b,c,d,a,x[k+9], S44,0xEB86D391);\n\t\ta=AddUnsigned(a,AA);\n\t\tb=AddUnsigned(b,BB);\n\t\tc=AddUnsigned(c,CC);\n\t\td=AddUnsigned(d,DD);\n\t}\n\tvar temp = WordToHex(a)+WordToHex(b)+WordToHex(c)+WordToHex(d);\n\treturn temp.toLowerCase();\n}\n\nJocUtil.sha1=function(msg) {\n\tfunction rotate_left(n,s) {\n\t\tvar t4 = ( n<<s ) | (n>>>(32-s));\n\t\treturn t4;\n\t};\n\tfunction lsb_hex(val) {\n\t\tvar str=\"\";\n\t\tvar i;\n\t\tvar vh;\n\t\tvar vl;\n\t\tfor( i=0; i<=6; i+=2 ) {\n\t\t\tvh = (val>>>(i*4+4))&0x0f;\n\t\t\tvl = (val>>>(i*4))&0x0f;\n\t\t\tstr += vh.toString(16) + vl.toString(16);\n\t\t}\n\t\treturn str;\n\t};\n\tfunction cvt_hex(val) {\n\t\tvar str=\"\";\n\t\tvar i;\n\t\tvar v;\n\t\tfor( i=7; i>=0; i-- ) {\n\t\t\tv = (val>>>(i*4))&0x0f;\n\t\t\tstr += v.toString(16);\n\t\t}\n\t\treturn str;\n\t};\n\tfunction Utf8Encode(string) {\n\t\tstring = string.replace(/\\r\\n/g,\"\\n\");\n\t\tvar utftext = \"\";\n\t\tfor (var n = 0; n < string.length; n++) {\n\t\t\tvar c = string.charCodeAt(n);\n\t\t\tif (c < 128) {\n\t\t\t\tutftext += String.fromCharCode(c);\n\t\t\t}\n\t\t\telse if((c > 127) && (c < 2048)) {\n\t\t\t\tutftext += String.fromCharCode((c >> 6) | 192);\n\t\t\t\tutftext += String.fromCharCode((c & 63) | 128);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tutftext += String.fromCharCode((c >> 12) | 224);\n\t\t\t\tutftext += String.fromCharCode(((c >> 6) & 63) | 128);\n\t\t\t\tutftext += String.fromCharCode((c & 63) | 128);\n\t\t\t}\n\t\t}\n\t\treturn utftext;\n\t};\n\tvar blockstart;\n\tvar i, j;\n\tvar W = new Array(80);\n\tvar H0 = 0x67452301;\n\tvar H1 = 0xEFCDAB89;\n\tvar H2 = 0x98BADCFE;\n\tvar H3 = 0x10325476;\n\tvar H4 = 0xC3D2E1F0;\n\tvar A, B, C, D, E;\n\tvar temp;\n\tmsg = Utf8Encode(msg);\n\tvar msg_len = msg.length;\n\tvar word_array = new Array();\n\tfor( i=0; i<msg_len-3; i+=4 ) {\n\t\tj = msg.charCodeAt(i)<<24 | msg.charCodeAt(i+1)<<16 |\n\t\tmsg.charCodeAt(i+2)<<8 | msg.charCodeAt(i+3);\n\t\tword_array.push( j );\n\t}\n\tswitch( msg_len % 4 ) {\n\t\tcase 0:\n\t\t\ti = 0x080000000;\n\t\tbreak;\n\t\tcase 1:\n\t\t\ti = msg.charCodeAt(msg_len-1)<<24 | 0x0800000;\n\t\tbreak;\n \n\t\tcase 2:\n\t\t\ti = msg.charCodeAt(msg_len-2)<<24 | msg.charCodeAt(msg_len-1)<<16 | 0x08000;\n\t\tbreak;\n \n\t\tcase 3:\n\t\t\ti = msg.charCodeAt(msg_len-3)<<24 | msg.charCodeAt(msg_len-2)<<16 | msg.charCodeAt(msg_len-1)<<8\t| 0x80;\n\t\tbreak;\n\t}\n\tword_array.push( i );\n\twhile( (word_array.length % 16) != 14 ) word_array.push( 0 );\n\tword_array.push( msg_len>>>29 );\n\tword_array.push( (msg_len<<3)&0x0ffffffff );\n\tfor ( blockstart=0; blockstart<word_array.length; blockstart+=16 ) {\n\t\tfor( i=0; i<16; i++ ) W[i] = word_array[blockstart+i];\n\t\tfor( i=16; i<=79; i++ ) W[i] = rotate_left(W[i-3] ^ W[i-8] ^ W[i-14] ^ W[i-16], 1);\n\t\tA = H0;\n\t\tB = H1;\n\t\tC = H2;\n\t\tD = H3;\n\t\tE = H4;\n\t\tfor( i= 0; i<=19; i++ ) {\n\t\t\ttemp = (rotate_left(A,5) + ((B&C) | (~B&D)) + E + W[i] + 0x5A827999) & 0x0ffffffff;\n\t\t\tE = D;\n\t\t\tD = C;\n\t\t\tC = rotate_left(B,30);\n\t\t\tB = A;\n\t\t\tA = temp;\n\t\t}\n\t\tfor( i=20; i<=39; i++ ) {\n\t\t\ttemp = (rotate_left(A,5) + (B ^ C ^ D) + E + W[i] + 0x6ED9EBA1) & 0x0ffffffff;\n\t\t\tE = D;\n\t\t\tD = C;\n\t\t\tC = rotate_left(B,30);\n\t\t\tB = A;\n\t\t\tA = temp;\n\t\t}\n\t\tfor( i=40; i<=59; i++ ) {\n\t\t\ttemp = (rotate_left(A,5) + ((B&C) | (B&D) | (C&D)) + E + W[i] + 0x8F1BBCDC) & 0x0ffffffff;\n\t\t\tE = D;\n\t\t\tD = C;\n\t\t\tC = rotate_left(B,30);\n\t\t\tB = A;\n\t\t\tA = temp;\n\t\t}\n\t\tfor( i=60; i<=79; i++ ) {\n\t\t\ttemp = (rotate_left(A,5) + (B ^ C ^ D) + E + W[i] + 0xCA62C1D6) & 0x0ffffffff;\n\t\t\tE = D;\n\t\t\tD = C;\n\t\t\tC = rotate_left(B,30);\n\t\t\tB = A;\n\t\t\tA = temp;\n\t\t}\n\t\tH0 = (H0 + A) & 0x0ffffffff;\n\t\tH1 = (H1 + B) & 0x0ffffffff;\n\t\tH2 = (H2 + C) & 0x0ffffffff;\n\t\tH3 = (H3 + D) & 0x0ffffffff;\n\t\tH4 = (H4 + E) & 0x0ffffffff;\n\t}\n\tvar temp = cvt_hex(H0) + cvt_hex(H1) + cvt_hex(H2) + cvt_hex(H3) + cvt_hex(H4);\n\treturn temp.toLowerCase();\n}\n\n/*\nA C-program for MT19937, with initialization improved 2002/1/26.\nCoded by Takuji Nishimura and Makoto Matsumoto.\nBefore using, initialize the state by using init_genrand(seed)\nor init_by_array(init_key, key_length).\nCopyright (C) 1997 - 2002, Makoto Matsumoto and Takuji Nishimura,\nAll rights reserved.\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions\nare met:\n1. Redistributions of source code must retain the above copyright\nnotice, this list of conditions and the following disclaimer.\n2. Redistributions in binary form must reproduce the above copyright\nnotice, this list of conditions and the following disclaimer in the\ndocumentation and/or other materials provided with the distribution.\n3. The names of its contributors may not be used to endorse or promote\nproducts derived from this software without specific prior written\npermission.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n\"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR\nCONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\nEXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\nPROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\nPROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\nLIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\nNEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\nAny feedback is very welcome.\nhttp://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html\nemail: m-mat @ math.sci.hiroshima-u.ac.jp (remove space)\n*/\n\nvar MersenneTwister = function(seed) {\n\tif (seed == undefined) {\n\t\tseed = new Date().getTime();\n\t}\n\t/* Period parameters */\n\tthis.N = 624;\n\tthis.M = 397;\n\tthis.MATRIX_A = 0x9908b0df; /* constant vector a */\n\tthis.UPPER_MASK = 0x80000000; /* most significant w-r bits */\n\tthis.LOWER_MASK = 0x7fffffff; /* least significant r bits */\n\tthis.mt = new Array(this.N); /* the array for the state vector */\n\tthis.mti=this.N+1; /* mti==N+1 means mt[N] is not initialized */\n\n\tthis.init_genrand(seed);\n}\n/* initializes mt[N] with a seed */\nMersenneTwister.prototype.init_genrand = function(s) {\n\tthis.mt[0] = s >>> 0;\n\tfor (this.mti=1; this.mti<this.N; this.mti++) {\n\t\tvar s = this.mt[this.mti-1] ^ (this.mt[this.mti-1] >>> 30);\n\t\tthis.mt[this.mti] = (((((s & 0xffff0000) >>> 16) * 1812433253) << 16) + (s & 0x0000ffff) * 1812433253)\n\t\t+ this.mti;\n\t\t/* See Knuth TAOCP Vol2. 3rd Ed. P.106 for multiplier. */\n\t\t/* In the previous versions, MSBs of the seed affect */\n\t\t/* only MSBs of the array mt[]. */\n\t\t/* 2002/01/09 modified by Makoto Matsumoto */\n\t\tthis.mt[this.mti] >>>= 0;\n\t\t/* for >32 bit machines */\n\t}\n}\n/* initialize by an array with array-length */\n/* init_key is the array for initializing keys */\n/* key_length is its length */\n/* slight change for C++, 2004/2/26 */\nMersenneTwister.prototype.init_by_array = function(init_key, key_length) {\n\tvar i, j, k;\n\tthis.init_genrand(19650218);\n\ti=1; j=0;\n\tk = (this.N>key_length ? this.N : key_length);\n\tfor (; k; k--) {\n\t\tvar s = this.mt[i-1] ^ (this.mt[i-1] >>> 30)\n\t\tthis.mt[i] = (this.mt[i] ^ (((((s & 0xffff0000) >>> 16) * 1664525) << 16) + ((s & 0x0000ffff) * 1664525)))\n\t\t+ init_key[j] + j; /* non linear */\n\t\tthis.mt[i] >>>= 0; /* for WORDSIZE > 32 machines */\n\t\ti++; j++;\n\t\tif (i>=this.N) { this.mt[0] = this.mt[this.N-1]; i=1; }\n\t\tif (j>=key_length) j=0;\n\t}\n\tfor (k=this.N-1; k; k--) {\n\t\tvar s = this.mt[i-1] ^ (this.mt[i-1] >>> 30);\n\t\tthis.mt[i] = (this.mt[i] ^ (((((s & 0xffff0000) >>> 16) * 1566083941) << 16) + (s & 0x0000ffff) * 1566083941))\n\t\t- i; /* non linear */\n\t\tthis.mt[i] >>>= 0; /* for WORDSIZE > 32 machines */\n\t\ti++;\n\t\tif (i>=this.N) { this.mt[0] = this.mt[this.N-1]; i=1; }\n\t}\n\n\tthis.mt[0] = 0x80000000; /* MSB is 1; assuring non-zero initial array */\n}\n/* generates a random number on [0,0xffffffff]-interval */\nMersenneTwister.prototype.genrand_int32 = function() {\n\tvar y;\n\tvar mag01 = new Array(0x0, this.MATRIX_A);\n\t/* mag01[x] = x * MATRIX_A for x=0,1 */\n\n\tif (this.mti >= this.N) { /* generate N words at one time */\n\t\tvar kk;\n\n\t\tif (this.mti == this.N+1) /* if init_genrand() has not been called, */\n\t\t\tthis.init_genrand(5489); /* a default initial seed is used */\n\n\t\tfor (kk=0;kk<this.N-this.M;kk++) {\n\t\t\ty = (this.mt[kk]&this.UPPER_MASK)|(this.mt[kk+1]&this.LOWER_MASK);\n\t\t\tthis.mt[kk] = this.mt[kk+this.M] ^ (y >>> 1) ^ mag01[y & 0x1];\n\t\t}\n\t\tfor (;kk<this.N-1;kk++) {\n\t\t\ty = (this.mt[kk]&this.UPPER_MASK)|(this.mt[kk+1]&this.LOWER_MASK);\n\t\t\tthis.mt[kk] = this.mt[kk+(this.M-this.N)] ^ (y >>> 1) ^ mag01[y & 0x1];\n\t\t}\n\t\ty = (this.mt[this.N-1]&this.UPPER_MASK)|(this.mt[0]&this.LOWER_MASK);\n\t\tthis.mt[this.N-1] = this.mt[this.M-1] ^ (y >>> 1) ^ mag01[y & 0x1];\n\n\t\tthis.mti = 0;\n\t}\n\n\ty = this.mt[this.mti++];\n\n\t/* Tempering */\n\ty ^= (y >>> 11);\n\ty ^= (y << 7) & 0x9d2c5680;\n\ty ^= (y << 15) & 0xefc60000;\n\ty ^= (y >>> 18);\n\n\treturn y >>> 0;\n}\n/* generates a random number on [0,0x7fffffff]-interval */\nMersenneTwister.prototype.genrand_int31 = function() {\n\treturn (this.genrand_int32()>>>1);\n}\n/* generates a random number on [0,1]-real-interval */\nMersenneTwister.prototype.genrand_real1 = function() {\n\treturn this.genrand_int32()*(1.0/4294967295.0);\n\t/* divided by 2^32-1 */\n}\n\n/* generates a random number on [0,1)-real-interval */\nMersenneTwister.prototype.random = function() {\n\treturn this.genrand_int32()*(1.0/4294967296.0);\n\t/* divided by 2^32 */\n}\n/* generates a random number on (0,1)-real-interval */\nMersenneTwister.prototype.genrand_real3 = function() {\n\treturn (this.genrand_int32() + 0.5)*(1.0/4294967296.0);\n\t/* divided by 2^32 */\n}\n/* generates a random number on [0,1) with 53-bit resolution*/\nMersenneTwister.prototype.genrand_res53 = function() {\n\tvar a=this.genrand_int32()>>>5, b=this.genrand_int32()>>>6;\n\treturn(a*67108864.0+b)*(1.0/9007199254740992.0);\n} \n\nif (typeof module !== 'undefined' && module.exports) {\n\texports.MersenneTwister = MersenneTwister;\n\texports.JocUtil = JocUtil;\n} else {\n\tthis.MersenneTwister = MersenneTwister;\n\tthis.JocUtil = JocUtil;\n}\n"]}