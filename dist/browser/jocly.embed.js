"use strict";function ReceiveMessage(e){function t(t){t=t||{},window.parent.postMessage({joclyEmbeddedGameId:matchId,replyId:e.data.replyId,message:t},"*")}function a(e){console.warn("Embed error:",e),"object"==(void 0===e?"undefined":_typeof(e))&&(e={message:e.message,fileName:e.fileName,lineNumber:e.lineNumber,stack:e.stack}),t({type:"error",error:e})}if((e.origin||e.originalEvent.origin)==new URL(window.location).origin){var n=e.data.message;switch(n.type){case"init":matchId=n.id;var o=document.getElementById("area");Jocly.createMatch(n.gameName).then(function(e){function i(){e.game.AttachElement(o).then(function(){e.area=o,e.game.GameInitView(),e.game.DisplayBoard(),t()}).catch(a)}gMatch=e,e.game.Load({playedMoves:n.playedMoves}),"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?i():window.addEventListener("DOMContentLoaded",function(){i()})}).catch(a);break;case"method":try{gMatch[n.methodName].apply(gMatch,n.args).then(function(){t({args:Array.from(arguments)})},a)}catch(e){a(e)}break;case"destroy":var i=gMatch.game.mPlayedMoves;gMatch.destroy().then(function(){t({playedMoves:i})})}}}function Resize(){var e=gMatch&&gMatch.game;e&&(e.mGeometry={width:window.innerWidth,height:window.innerHeight},e.GameDestroyView(),e.GameInitView(),e.DisplayBoard())}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},matchId,gMatch;window.addEventListener("message",ReceiveMessage,!1),window.addEventListener("resize",Resize,!1);